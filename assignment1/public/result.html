<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Result - BMI Calculator</title>

        <!-- Favicon -->
        <link rel="icon" type="image/x-icon" href="images/logo.png" />

        <!-- Google Fonts | Roboto Slab + Montserrat -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Slab:wght@400;700&display=swap"
            rel="stylesheet"
        />

        <!-- Bootstrap -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />

        <!-- Sweet alerts 2 -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

        <style>
            * {
                font-family: "Roboto Slab";
                font-weight: 400;
                font-size: 16px;
            }
        </style>
    </head>
    <body class="vh-100 d-flex flex-column">
        <div class="bg-dark">
            <div class="container">
                <header class="d-flex flex-wrap justify-content-center py-3">
                    <a
                        href="/"
                        class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none"
                    >
                        <span class="fs-4 text-light">BMI Calculator</span>
                    </a>

                    <ul class="nav nav-pills">
                        <li class="nav-item"><a href="/" class="nav-link" aria-current="page">Home</a></li>
                        <li class="nav-item"><a href="/bmicalculator" class="nav-link">Calculate</a></li>
                        <li class="nav-item"><a href="/history" class="nav-link">History</a></li>
                        <li class="nav-item">
                            <a href="https://github.com/prenl" target="__blank" class="nav-link">Github</a>
                        </li>
                    </ul>
                </header>
            </div>
        </div>

        <div class="container vh-100">
            <div id="result-string" class="fs-1 pt-5">Your BMI Result</div>
            <div id="result-text" class="fs-4 text-dark my-3">
                A BMI of 30 or higher indicates obesity. It's crucial to seek medical guidance to develop a
                comprehensive weight management plan that may include dietary changes, increased physical activity, and
                possibly medical interventions. Obesity is associated with various health risks, so addressing it is
                essential for your well-being.
            </div>

            <div class="d-flex justify-content-center">
                <img
                    src="https://nutrition.health.gov.lk/wp-content/uploads/2020/12/BMI-1024x569.png"
                    class="img-fluid"
                />
            </div>
        </div>

        <footer class="bg-dark text-light text-center py-3">2022 - 2025 &copy; Yelnur Abdrakhmanov | SE-2203</footer>

        <script>
            const urlParams = new URLSearchParams(window.location.search);
            const bmiValue = urlParams.get("bmi");

            if (!bmiValue || bmiValue < 0) {
                window.location.href = "/";
            }

            const result_string = document.getElementById("result-string");
            bmi = parseFloat(bmiValue);

            let color;
            let text = "";

            if (bmi <= 18.5) {
                color = "#9AC2E6";
                text = `This BMI range suggests that you may be underweight. 
                        It's important to consult with a healthcare professional 
                        to ensure you're getting the right nutrition and to rule 
                        out any underlying health issues that could be contributing 
                        to your low BMI. A balanced diet and regular exercise can 
                        help you reach a healthier weight.`;
            } else if (bmi <= 22.9) {
                color = "#91B491";
                text = `Falling within this range is considered normal and healthy. 
                        Maintain your current lifestyle with a balanced diet and regular 
                        physical activity to support your overall well-being. Continue 
                        monitoring your BMI as part of your routine health check.`;
            } else if (bmi <= 24.9) {
                color = "#E5D7AD";
                text = `You are still in a healthy weight range, but it's essential to 
                        maintain a balanced diet and exercise to prevent gradual weight 
                        gain. Focus on portion control and staying active to promote 
                        long-term health and well-being.`;
            } else if (bmi <= 29.9) {
                color = "#CE7E00";
                text = `This BMI range suggests you are overweight. Consider making 
                        lifestyle changes such as adopting a healthier diet, increasing 
                        physical activity, and managing stress. Weight loss can reduce 
                        the risk of obesity-related health issues like diabetes and 
                        heart disease.`;
            } else {
                color = "#FF0000";
            }

            result_string.innerHTML = `Your BMI is ${parseFloat(bmi).toFixed(2)}`;
            result_string.style.color = color;

            if (text.length > 10) {
                document.getElementById("result-text").innerHTML = text;
            }
        </script>
    </body>
</html>
